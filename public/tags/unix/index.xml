<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Unix on Not A Rocket Scientist</title><link>http://localhost:1313/tags/unix/</link><description>Recent content in Unix on Not A Rocket Scientist</description><generator>Hugo</generator><language>en-gb</language><lastBuildDate>Fri, 26 Jan 2024 10:07:53 +0800</lastBuildDate><atom:link href="http://localhost:1313/tags/unix/index.xml" rel="self" type="application/rss+xml"/><item><title>How Difficult Is It To Start Your Single-cell Analysis As A Beginner</title><link>http://localhost:1313/posts/2024-01-18-how-difficult-is-it-to-start-your-single-cell-analysis-as-a-beginner/</link><pubDate>Fri, 26 Jan 2024 10:07:53 +0800</pubDate><guid>http://localhost:1313/posts/2024-01-18-how-difficult-is-it-to-start-your-single-cell-analysis-as-a-beginner/</guid><description>&lt;p>The title for this post is &amp;ldquo;&lt;strong>How Difficult Is It To Start Your Single-cell Analysis As A Beginner&lt;/strong>&amp;rdquo;. However, once I finished writing the post, the majority of the content is actually about &amp;ldquo;&lt;strong>Seurat and OSCA Installation On Freshly Installed Ubuntu/Debian/Fedora&lt;/strong>&amp;rdquo;. Oh well &amp;hellip; If you do not have time, just go to the final &lt;a href="#summary">&lt;strong>Summary&lt;/strong>&lt;/a> section to see the final results.&lt;/p>
&lt;h2 id="introduction">Introduction&lt;/h2>
&lt;p>When I started my NGS analysis during my PhD, which was more than 10 years ago, one of the most difficult things was software installation. In many cases, you needed to do the following three magic steps:&lt;/p></description></item><item><title>Benford's Law and RNA-seq</title><link>http://localhost:1313/posts/2020-02-27-benfords-law-and-rna-seq/</link><pubDate>Thu, 27 Feb 2020 00:00:00 +0800</pubDate><guid>http://localhost:1313/posts/2020-02-27-benfords-law-and-rna-seq/</guid><description>&lt;p>More than two years ago, I started to watch videos from the YouTube channel &lt;strong>&lt;a href="https://www.youtube.com/user/numberphile/">Numberphile&lt;/a>&lt;/strong>. I came across &lt;strong>&lt;a href="https://en.wikipedia.org/wiki/Benford%27s_law">Benford&amp;rsquo;s Law&lt;/a>&lt;/strong>, and I was amazed when I saw it on &lt;strong>&lt;a href="https://www.youtube.com/watch?v=XXjlR2OK1kM">this video&lt;/a>&lt;/strong>. Basically, Benford&amp;rsquo;s Law is an observation about the relative frequency distribution of the first digits from real-world data sets, where the data span multiple orders of magnitude. Intuitively, we expect them to be uniformly distributed so that each digit (from 1 to 9) has a relative frequency around 1/9. However, it turns out that 1 is the most frequent digit, and 2 is the 2nd most frequent digit, and so on. Since people who fabricate data tend to make the distribution uniform, Benford&amp;rsquo;s Law can be used for fraud detection. After watching the Numberphile video, I immediately realised that RNA-seq data should follow Benford&amp;rsquo;s Law as well. In an RNA-seq sample, you always have lowly expressed genes and highly expressed genes, and their expression values span several orders of magnitude. Indeed, there are papers about using Benford&amp;rsquo;s Law to characterise patterns of gene expressions, such as &lt;strong>&lt;a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4979126/">this one&lt;/a>&lt;/strong> and &lt;strong>&lt;a href="https://www.mdpi.com/2073-4409/8/9/1004">this one&lt;/a>&lt;/strong>.&lt;/p></description></item><item><title>Use Aliyun OSS For UCSC Visualisation In China Mainland</title><link>http://localhost:1313/posts/2019-05-02-use-aliyun-oss-for-ucsc-visualisation/</link><pubDate>Thu, 02 May 2019 00:00:00 +0800</pubDate><guid>http://localhost:1313/posts/2019-05-02-use-aliyun-oss-for-ucsc-visualisation/</guid><description>&lt;p>You always need to repeat some basic tasks that you did in the past when you relocate to a new place. For some of them, you need to find alternative ways of achieving the same goals. For example, finding a way of visualising &lt;strong>&lt;a href="https://genome.ucsc.edu/goldenpath/help/bigWig.html">bigWig&lt;/a>&lt;/strong> signal files. This is very important for the assessment of the data quality. I hate to say it, but it is often true that the most efficient way of telling whether an experiment works or not is the least scientific way, which is by visual inspection. Looking at bigWig signals is relatively easy in &lt;a href="https://randomstate.net/2018-07-02-setting-up-public-links-for-ucsc-visualisation/">my previous institute&lt;/a>, but it is not so straigtforward for a small lab that does not have good computational support. Things become even more annoying and complicated when your lab is in China mainland for obvious reasons.&lt;/p></description></item><item><title>Set Up Public Links For UCSC Genome Browser Visualisation At The WTSI</title><link>http://localhost:1313/posts/2018-07-02-setting-up-public-links-for-ucsc-visualisation/</link><pubDate>Mon, 02 Jul 2018 00:00:00 +0800</pubDate><guid>http://localhost:1313/posts/2018-07-02-setting-up-public-links-for-ucsc-visualisation/</guid><description>&lt;p>The best way of visualising sequencing reads pileup/coverage data (very useful for ChIP-seq, DNase-seq &amp;amp; ATAC-seq) is to get the pileup/coverage files in &lt;strong>&lt;a href="https://genome.ucsc.edu/goldenpath/help/bigWig.html">bigWig format&lt;/a>&lt;/strong>, and visualise the signal as custom tracks using &lt;strong>&lt;a href="https://genome.ucsc.edu/goldenpath/help/customTrack.html">UCSC genome browser&lt;/a>&lt;/strong> - the best genome browser, period! The bigWig files are often large, especially when you have high coverage experiments. Therefore, you need a place to host your files, and they need to be in a place where UCSC genome browser can reach.&lt;/p></description></item><item><title>ATAC-seq Insert Size Plotting</title><link>http://localhost:1313/posts/2017-02-10-atac-seq-insert-size-plotting/</link><pubDate>Fri, 10 Feb 2017 00:00:00 +0800</pubDate><guid>http://localhost:1313/posts/2017-02-10-atac-seq-insert-size-plotting/</guid><description>&lt;p>ATAC-seq is THE simplest genomic protocol to profile open chromatin regions in the genome. The original publication (&lt;strong>&lt;a href="http://www.nature.com/nmeth/journal/v10/n12/full/nmeth.2688.html">Nature Methods 10, 1213-1218&lt;/a>&lt;/strong>) has been cited 441 times at this moment of writing (1,073 times at this moment of re-posting). It has become almost a routine for a lab that is interested in transcriptional regulation.&lt;/p>
&lt;p>One common QC for the data is to plot the fragment size density of your libraries. The successful construction of a ATAC library requires a proper pair of Tn5 transposase cutting events at the ends of DNA. In the nucleosome-free open chromatin regions, many molecules of Tn5 can kick in and chop the DNA into small pieces; around nucleosome-occupied regions, Tn5 can only access the linker regions. Therefore, in a normal ATAC-seq library, you should expect to see a sharp peak at the &amp;lt;100 bp region (open chromatin), and a peak at ~200bp region (mono-nucleosome), and other larger peaks (multi-nucleosomes). Examples from one of my data:&lt;/p></description></item><item><title>Getting RefSeq gene TSS from UCSC</title><link>http://localhost:1313/posts/2016-11-09-getting-refseq-gene-tss-from-ucsc/</link><pubDate>Wed, 09 Nov 2016 00:00:00 +0800</pubDate><guid>http://localhost:1313/posts/2016-11-09-getting-refseq-gene-tss-from-ucsc/</guid><description>&lt;p>As a practice of using the unix command lines, let&amp;rsquo;s get the transcription start site (TSS) coordinates of all hg38 RefSeq genes from the UCSC genome browser, and change it to a proper bed format:&lt;/p>
&lt;p>&lt;strong>1. Go to the &lt;a href="http://genome-euro.ucsc.edu/index.html">UCSC genome browser&lt;/a>.&lt;/strong>&lt;/p>
&lt;p>&lt;strong>2. Go to the table browser: Tools â€“&amp;gt; Table Browser.&lt;/strong>&lt;/p>
&lt;p>&lt;strong>3. Choose the following options:&lt;/strong>&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>clade:&lt;/strong> Mammal&lt;br>
&lt;strong>genome:&lt;/strong> Human&lt;br>
&lt;strong>assembly:&lt;/strong> Dec. 2013 (GRCh38/hg38)&lt;br>
&lt;strong>group:&lt;/strong> Genes and Genes Predictions&lt;br>
&lt;strong>track:&lt;/strong> RefSeq Genes&lt;br>
&lt;strong>table:&lt;/strong> refGene&lt;br>
&lt;strong>region:&lt;/strong> genome&lt;br>
&lt;strong>output:&lt;/strong> all fields from selected table&lt;br>
&lt;strong>output file:&lt;/strong> whatever name you want (e.g. refseq_genes_hg38.txt)&lt;/p></description></item><item><title>Common Bioinformatics Tasks With UNIX Commands</title><link>http://localhost:1313/posts/2016-10-20-common-bioinformatics-tasks-with-unix-commands/</link><pubDate>Thu, 20 Oct 2016 00:00:00 +0800</pubDate><guid>http://localhost:1313/posts/2016-10-20-common-bioinformatics-tasks-with-unix-commands/</guid><description>&lt;h3 id="awk">awk&lt;/h3>
&lt;p>&lt;strong>1. Give names to each peak in a 3-column bed file:&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>$ cat Oct4_union_peaks.bed
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>chr1 &lt;span style="color:#d19a66">3062833&lt;/span> &lt;span style="color:#d19a66">3063056&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>chr1 &lt;span style="color:#d19a66">3343519&lt;/span> &lt;span style="color:#d19a66">3343843&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>chr1 &lt;span style="color:#d19a66">3482630&lt;/span> &lt;span style="color:#d19a66">3483324&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>chr1 &lt;span style="color:#d19a66">3549654&lt;/span> &lt;span style="color:#d19a66">3549895&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>chr1 &lt;span style="color:#d19a66">3648929&lt;/span> &lt;span style="color:#d19a66">3649295&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ awk &lt;span style="color:#98c379">&amp;#39;BEGIN{OFS=&amp;#34;\t&amp;#34;}{print $1,$2,$3,&amp;#34;Oct4_union_peak_&amp;#34; NR}&amp;#39;&lt;/span> Oct4_union_peaks.bed
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>chr1 &lt;span style="color:#d19a66">3062833&lt;/span> &lt;span style="color:#d19a66">3063056&lt;/span> Oct4_union_peak_1
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>chr1 &lt;span style="color:#d19a66">3343519&lt;/span> &lt;span style="color:#d19a66">3343843&lt;/span> Oct4_union_peak_2
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>chr1 &lt;span style="color:#d19a66">3482630&lt;/span> &lt;span style="color:#d19a66">3483324&lt;/span> Oct4_union_peak_3
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>chr1 &lt;span style="color:#d19a66">3549654&lt;/span> &lt;span style="color:#d19a66">3549895&lt;/span> Oct4_union_peak_4
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>chr1 &lt;span style="color:#d19a66">3648929&lt;/span> &lt;span style="color:#d19a66">3649295&lt;/span> Oct4_union_peak_5
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>2. Print the number of fileds for each line:&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>awk &lt;span style="color:#98c379">&amp;#39;{print NF}&amp;#39;&lt;/span> some_file.txt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>3. Print the last column of a text file:&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>awk &lt;span style="color:#98c379">&amp;#39;{print $NF}&amp;#39;&lt;/span> some_file.txt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>4. In a &lt;a href="https://genome.ucsc.edu/FAQ/FAQformat#format12">narrowPeak format&lt;/a> file, Get all peaks that have more than 5 fold enrichment:&lt;/strong>&lt;/p></description></item></channel></rss>